<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2019 European Commission

    Licensed under the EUPL, Version 1.2 or â€“ as soon they will be approved by the European Commission - subsequent versions of the EUPL (the "Licence");
    You may not use this work except in compliance with the Licence.
    You may obtain a copy of the Licence at:

        https://joinup.ec.europa.eu/software/page/eupl

    Unless required by applicable law or agreed to in writing, software distributed under the Licence is distributed on an "AS IS" basis,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the Licence for the specific language governing permissions and limitations under the Licence.

-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>eu.europa.ec.digit.leos.pilot</groupId>
    <artifactId>leos</artifactId>
    <version>3.0.0</version>
    <packaging>pom</packaging>

    <name>LEOS Pilot</name>

    <description>Legislation Editing Open Software, developed by the European Commission - DIGIT.B2</description>
    <url>https://joinup.ec.europa.eu/software/leos</url>

    <licenses>
        <license>
            <name>European Union Public Licence (EUPL)</name>
            <url>https://joinup.ec.europa.eu/software/page/eupl</url>
            <comments>European Free/Open Source Software (F/OSS) licence.</comments>
        </license>
    </licenses>

    <organization>
        <name>European Commission</name>
        <url>https://ec.europa.eu</url>
    </organization>

    <repositories>
        <repository>
            <id>vaadin-addons</id>
            <url>https://maven.vaadin.com/vaadin-addons</url>
        </repository>
        <repository>
            <id>shibboleth</id>
            <url>https://build.shibboleth.net/nexus/content/repositories/releases</url>
        </repository>
    </repositories>

    <modules>
        <module>modules</module>
    </modules>

    <properties>
        <!-- Project -->
        <project.maven.version>3.3.9</project.maven.version>
        <project.java.version>1.8</project.java.version>
        <project.java.debug>false</project.java.debug>
        <project.java.optimize>true</project.java.optimize>
        <project.java.showWarnings>true</project.java.showWarnings>
        <project.java.showDeprecation>true</project.java.showDeprecation>
        <project.vaadin.draftCompile>false</project.vaadin.draftCompile>
        <skipTests>false</skipTests>
        <js.skipTests>true</js.skipTests>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
        <project.weblogic.version>12.1.3.0</project.weblogic.version>
        <maven.javadoc.failOnError>false</maven.javadoc.failOnError>
        <!-- LEOS -->
        <leos.build.version>${project.version}</leos.build.version>
        <leos.build.date.format>yyyy-MM-dd HH:mm z</leos.build.date.format>
        <leos.build.date>${git.build.time}</leos.build.date>
        <leos.build.timestamp>${buildnumber.timestamp}</leos.build.timestamp>
        <leos.source.status>${git.commit.id.describe-short}</leos.source.status>
        <!-- leos.source.revision>${git.commit.id.describe}</leos.source.revision-->
        <leos.source.revision>${project.version}</leos.source.revision>
        <leos.source.committedRevision>${git.commit.id}</leos.source.committedRevision>
        <leos.source.committedDate>${git.commit.time}</leos.source.committedDate>
        <!-- Plugins -->
        <maven-enforcer-plugin.version>1.4.1</maven-enforcer-plugin.version>
        <extra-enforcer-rules.version>1.0-alpha-5</extra-enforcer-rules.version>
        <git-commit-id-plugin.version>2.2.2</git-commit-id-plugin.version>
        <maven-compiler-plugin.version>3.6.0</maven-compiler-plugin.version>
        <maven-clean-plugin.version>3.0.0</maven-clean-plugin.version>
        <maven-dependency-plugin.version>2.10</maven-dependency-plugin.version>
        <maven-install-plugin.version>2.5.2</maven-install-plugin.version>
        <maven-deploy-plugin.version>2.8.2</maven-deploy-plugin.version>
        <maven-site-plugin.version>3.5.1</maven-site-plugin.version>
        <maven-resources-plugin.version>3.0.1</maven-resources-plugin.version>
        <copy-rename-maven-plugin.version>1.0</copy-rename-maven-plugin.version>
        <maven-surefire-plugin.version>2.19.1</maven-surefire-plugin.version>
        <maven-jar-plugin.version>3.0.2</maven-jar-plugin.version>
        <maven-war-plugin.version>3.0.0</maven-war-plugin.version>
        <maven-source-plugin.version>3.0.1</maven-source-plugin.version>
        <maven-javadoc-plugin.version>3.0.0</maven-javadoc-plugin.version>
        <maven-release-plugin.version>2.5.3</maven-release-plugin.version>
        <jetty-maven-plugin.version>9.4.3.v20170317</jetty-maven-plugin.version>
        <tomcat7-maven-plugin.version>2.2</tomcat7-maven-plugin.version>
        <jasmine-maven-plugin.version>2.2</jasmine-maven-plugin.version>
        <selenium-webdriver.version>2.53.0</selenium-webdriver.version>
        <phantomjs-webdriver.version>1.3.0</phantomjs-webdriver.version>
        <phantomjs.version>2.1.1</phantomjs.version>
        <cobertura-maven-plugin.version>2.7</cobertura-maven-plugin.version>
        <build-helper-plugin.version>1.12</build-helper-plugin.version>
        <build-number-plugin.version>1.4</build-number-plugin.version>
        <jshint-maven-plugin.version>1.6.0</jshint-maven-plugin.version>
        <properties-maven-plugin.version>1.0.0</properties-maven-plugin.version>
        <copy-maven-plugin.version>0.2.5</copy-maven-plugin.version>
        <sql-maven-plugin.version>1.5</sql-maven-plugin.version>
        <mycila-license-maven-plugin.version>3.0</mycila-license-maven-plugin.version>
        <!-- Extensions -->
        <wagon-ftp-extension.version>2.2</wagon-ftp-extension.version>
        <!-- Libraries -->
        <slf4j.version>1.7.25</slf4j.version>
        <logback.version>1.2.3</logback.version>
        <junit.version>4.12</junit.version>
        <hamcrest.version>1.3</hamcrest.version>
        <mockito.version>2.7.22</mockito.version>
        <mathjax.version>2.7.0</mathjax.version>
        <spring.version>4.3.16.RELEASE</spring.version>
        <spring-data.version>Codd-SR3</spring-data.version>
        <hibernate-orm.version>4.2.10.Final</hibernate-orm.version><!--UPGRADE PENDING-->
        <spring-security.version>4.2.5.RELEASE</spring-security.version>
        <spring-webmvc.version>4.3.5.RELEASE</spring-webmvc.version>
        <auth0.version>3.2.0</auth0.version>
        <jboss-logging.version>3.3.0.Final</jboss-logging.version>
        <chemistry-opencmis.version>1.1.0</chemistry-opencmis.version>
        <servlet.version>3.0.1</servlet.version>
        <javax-inject.version>1</javax-inject.version>
        <commons-collections.version>3.2.2</commons-collections.version>
        <commons-lang.version>2.6</commons-lang.version>
        <commons-lang3.version>3.5</commons-lang3.version>
        <commons-fileupload.version>1.3.3</commons-fileupload.version>
        <commons-io.version>2.6</commons-io.version>
        <guava.version>20.0</guava.version>
        <jsr305.version>3.0.1</jsr305.version>
        <google-diffutils.version>1.3.0</google-diffutils.version>
        <freemarker.version>2.3.27-incubating</freemarker.version>
        <vtd-xml.version>2.13</vtd-xml.version>
        <xstream.version>1.4.16</xstream.version>
        <cachefilter.version>2.0</cachefilter.version>
        <cuid.version>0.1.1</cuid.version>
        <jsoup.version>1.10.3</jsoup.version>
        <sass-maven-plugin.version>2.22</sass-maven-plugin.version>
        <jackson-databind.version>2.8.5</jackson-databind.version>
        <cxf-maven-plugin.version>3.1.10</cxf-maven-plugin.version>
        <jaxb2-maven-plugin.version>2.3.1</jaxb2-maven-plugin.version>
        <jaxb2-basics.version>0.11.1</jaxb2-basics.version>
        <jvnet-jaxb2-plugin.version>0.14.0</jvnet-jaxb2-plugin.version>
        <fugue.version>4.4.0</fugue.version>
        <okhttp.version>3.7.0</okhttp.version>
        <saxon.version>9.8.0-3</saxon.version>
        <jena.version>3.3.0</jena.version>
        <icu4j.version>60.2</icu4j.version>
        <!-- Vaadin -->
        <vaadin.version>8.8.6</vaadin.version>
        <vaadin-sass-compiler.version>0.9.13</vaadin-sass-compiler.version>
        <vaadin-plugin.version>${vaadin.version}</vaadin-plugin.version>
        <vaadin-spring.version>3.2.1</vaadin-spring.version>
        <vaadin-confirmdialog.version>3.2.0</vaadin-confirmdialog.version>
        <vaadin-commponent-renderer.version>2.0.0</vaadin-commponent-renderer.version>
        <vaadin-onoffswitch.version>1.1.0</vaadin-onoffswitch.version>
        <vaadin-dndscroll.version>2.0.2</vaadin-dndscroll.version>
        <vaadin-gridextensionpack.version>2.0.0</vaadin-gridextensionpack.version>
        <vaadin-sliderpanel.version>2.2.1</vaadin-sliderpanel.version>
        <!-- JUnit 5 -->
        <junit-jupiter.version>5.0.2</junit-jupiter.version>
        <junit-platform.version>1.0.2</junit-platform.version>
        <junit-vintage.version>4.12.2</junit-vintage.version>
        <!-- httpclient -->
        <httpclient.version>4.5.3</httpclient.version>
        <!-- Sonar -->
        <sonar-maven-plugin.version>3.2</sonar-maven-plugin.version>
        <commons-text.version>1.4</commons-text.version>
        <artemis.version>2.11.0</artemis.version>
        <!-- iText -->
        <itext-itext7-core.version>7.1.6</itext-itext7-core.version>
        <itext-html2pdf.version>2.1.3</itext-html2pdf.version>
    </properties>

    <prerequisites>
        <maven>${project.maven.version}</maven>
    </prerequisites>

    <dependencyManagement>
        <dependencies>
            <!-- Logging frameworks -->
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
                <version>${slf4j.version}</version>
                <scope>compile</scope>
            </dependency>
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>jcl-over-slf4j</artifactId>
                <version>${slf4j.version}</version>
                <scope>runtime</scope>
            </dependency>
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>log4j-over-slf4j</artifactId>
                <version>${slf4j.version}</version>
                <scope>runtime</scope>
            </dependency>
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>jul-to-slf4j</artifactId>
                <version>${slf4j.version}</version>
                <scope>runtime</scope>
            </dependency>
            <dependency>
                <groupId>ch.qos.logback</groupId>
                <artifactId>logback-classic</artifactId>
                <version>${logback.version}</version>
                <scope>runtime</scope>
            </dependency>
            <!-- Spring framework -->
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-framework-bom</artifactId>
                <version>${spring.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <dependency>
                <groupId>org.springframework.data</groupId>
                <artifactId>spring-data-releasetrain</artifactId>
                <version>${spring-data.version}</version>
                <scope>import</scope>
                <type>pom</type>
            </dependency>
            <!-- security Frameworks-->
            <dependency>
                <groupId>org.springframework.security</groupId>
                <artifactId>spring-security-core</artifactId>
                <version>${spring-security.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework.security</groupId>
                <artifactId>spring-security-web</artifactId>
                <version>${spring-security.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework.security</groupId>
                <artifactId>spring-security-config</artifactId>
                <version>${spring-security.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework.security</groupId>
                <artifactId>spring-security-cas</artifactId>
                <version>${spring-security.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-webmvc</artifactId>
                <version>${spring-webmvc.version}</version>
            </dependency>
            <dependency>
                <groupId>com.auth0</groupId>
                <artifactId>java-jwt</artifactId>
                <version>${auth0.version}</version>
            </dependency>
            <!-- Persistence framework -->
            <dependency>
                <groupId>org.hibernate</groupId>
                <artifactId>hibernate-entitymanager</artifactId>
                <version>${hibernate-orm.version}</version>
                <scope>runtime</scope>
            </dependency>
            <dependency>
                <groupId>org.jboss.logging</groupId>
                <artifactId>jboss-logging</artifactId>
                <version>${jboss-logging.version}</version>
                <scope>runtime</scope>
            </dependency>
            <!-- Apache Chemistry framework -->
            <dependency>
                <groupId>org.apache.chemistry.opencmis</groupId>
                <artifactId>chemistry-opencmis-client-api</artifactId>
                <version>${chemistry-opencmis.version}</version>
                <scope>compile</scope>
            </dependency>
            <dependency>
                <groupId>org.apache.chemistry.opencmis</groupId>
                <artifactId>chemistry-opencmis-client-impl</artifactId>
                <version>${chemistry-opencmis.version}</version>
                <scope>runtime</scope>
                <exclusions>
                    <exclusion>
                        <groupId>asm</groupId>
                        <artifactId>asm</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>org.apache.chemistry.opencmis</groupId>
                <artifactId>chemistry-opencmis-commons-api</artifactId>
                <version>${chemistry-opencmis.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.chemistry.opencmis</groupId>
                <artifactId>chemistry-opencmis-commons-impl</artifactId>
                <version>${chemistry-opencmis.version}</version>
                <scope>runtime</scope>
            </dependency>
            <dependency>
                <groupId>org.apache.chemistry.opencmis</groupId>
                <artifactId>chemistry-opencmis-client-bindings</artifactId>
                <version>${chemistry-opencmis.version}</version>
            </dependency>
            <!-- Libraries -->
            <dependency>
                <groupId>javax.servlet</groupId>
                <artifactId>javax.servlet-api</artifactId>
                <version>${servlet.version}</version>
                <scope>provided</scope>
            </dependency>
            <dependency>
                <groupId>javax.inject</groupId>
                <artifactId>javax.inject</artifactId>
                <version>${javax-inject.version}</version>
            </dependency>
            <dependency>
                <groupId>commons-collections</groupId>
                <artifactId>commons-collections</artifactId>
                <version>${commons-collections.version}</version>
            </dependency>
            <dependency>
                <groupId>commons-lang</groupId>
                <artifactId>commons-lang</artifactId>
                <version>${commons-lang.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-lang3</artifactId>
                <version>${commons-lang3.version}</version>
            </dependency>
            <dependency>
                <groupId>commons-fileupload</groupId>
                <artifactId>commons-fileupload</artifactId>
                <version>${commons-fileupload.version}</version>
            </dependency>
            <dependency>
                <groupId>io.atlassian.fugue</groupId>
                <artifactId>fugue</artifactId>
                <version>${fugue.version}</version>
            </dependency>
            <dependency>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
                <version>${commons-io.version}</version>
            </dependency>
            <dependency>
                <groupId>com.squareup.okhttp3</groupId>
                <artifactId>okhttp</artifactId>
                <version>${okhttp.version}</version>
                <scope>runtime</scope>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
                <version>${jackson-databind.version}</version>
            </dependency>
            <dependency>
                <groupId>com.google.guava</groupId>
                <artifactId>guava</artifactId>
                <version>${guava.version}</version>
            </dependency>
            <dependency>
                <groupId>com.google.code.findbugs</groupId>
                <artifactId>jsr305</artifactId>
                <version>${jsr305.version}</version>
            </dependency>
            <dependency>
                <groupId>com.googlecode.java-diff-utils</groupId>
                <artifactId>diffutils</artifactId>
                <version>${google-diffutils.version}</version>
            </dependency>
            <dependency>
                <groupId>org.freemarker</groupId>
                <artifactId>freemarker</artifactId>
                <version>${freemarker.version}</version>
            </dependency>
            <dependency>
                <groupId>com.ximpleware</groupId>
                <artifactId>vtd-xml</artifactId>
                <version>${vtd-xml.version}</version>
            </dependency>
            <dependency>
                <groupId>com.thoughtworks.xstream</groupId>
                <artifactId>xstream</artifactId>
                <version>${xstream.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>xmlpull</groupId>
                        <artifactId>xmlpull</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>xpp3</groupId>
                        <artifactId>xpp3_min</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>net.sf.saxon</groupId>
                <artifactId>Saxon-HE</artifactId>
                <version>${saxon.version}</version>
            </dependency>
            <dependency>
                <groupId>cool.graph</groupId>
                <artifactId>cuid-java</artifactId>
                <version>${cuid.version}</version>
            </dependency>
            <dependency>
                <groupId>org.jsoup</groupId>
                <artifactId>jsoup</artifactId>
                <version>${jsoup.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.httpcomponents</groupId>
                <artifactId>httpclient</artifactId>
                <version>${httpclient.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.jena</groupId>
                <artifactId>jena-tdb</artifactId>
                <version>${jena.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>commons-codec</groupId>
                        <artifactId>commons-codec</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>com.ibm.icu</groupId>
                <artifactId>icu4j</artifactId>
                <version>${icu4j.version}</version>
            </dependency>
            <!-- Vaadin framework -->
            <dependency>
                <groupId>com.vaadin</groupId>
                <artifactId>vaadin-bom</artifactId>
                <version>${vaadin.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <dependency>
                <groupId>com.vaadin</groupId>
                <artifactId>vaadin-spring</artifactId>
                <version>${vaadin-spring.version}</version>
            </dependency>
            <dependency>
                <groupId>com.vaadin</groupId>
                <artifactId>vaadin-sass-compiler</artifactId>
                <version>${vaadin-sass-compiler.version}</version>
            </dependency>
            <!-- Vaadin 7 compatibility packages -->
            <dependency>
                <groupId>com.vaadin</groupId>
                <artifactId>vaadin-compatibility-server</artifactId>
                <version>${vaadin.version}</version>
            </dependency>
            <dependency>
                <groupId>com.vaadin</groupId>
                <artifactId>vaadin-compatibility-shared</artifactId>
                <version>${vaadin.version}</version>
            </dependency>
            <dependency>
                <groupId>com.vaadin</groupId>
                <artifactId>vaadin-compatibility-client</artifactId>
                <version>${vaadin.version}</version>
            </dependency>
            <!-- Vaadin add-ons -->
            <dependency>
                <groupId>org.vaadin.addon</groupId>
                <artifactId>confirmdialog</artifactId>
                <version>${vaadin-confirmdialog.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>com.vaadin</groupId>
                        <artifactId>vaadin-server</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>com.vaadin</groupId>
                        <artifactId>vaadin-client-compiled</artifactId>
                    </exclusion>
                    <exclusion>
                        <groupId>com.vaadin</groupId>
                        <artifactId>vaadin-themes</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>de.datenhahn.vaadin</groupId>
                <artifactId>componentrenderer</artifactId>
                <version>${vaadin-commponent-renderer.version}</version>
            </dependency>
            <dependency>
                <groupId>com.vaadin.addon</groupId>
                <artifactId>vaadin-onoffswitch</artifactId>
                <version>${vaadin-onoffswitch.version}</version>
            </dependency>
            <dependency>
                <groupId>org.vaadin.anna</groupId>
                <artifactId>dndscroll</artifactId>
                <version>${vaadin-dndscroll.version}</version>
            </dependency>
            <dependency>
                <groupId>org.vaadin.teemusa</groupId>
                <artifactId>gridextensionpack</artifactId>
                <version>${vaadin-gridextensionpack.version}</version>
            </dependency>
            <dependency>
                <groupId>org.vaadin.addons</groupId>
                <artifactId>vaadin-sliderpanel</artifactId>
                <version>${vaadin-sliderpanel.version}</version>
            </dependency>
            <!-- Testing frameworks -->
            <dependency>
                <groupId>junit</groupId>
                <artifactId>junit</artifactId>
                <version>${junit.version}</version>
                <scope>test</scope>
                <exclusions>
                    <exclusion>
                        <groupId>org.hamcrest</groupId>
                        <artifactId>hamcrest-core</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>org.mockito</groupId>
                <artifactId>mockito-core</artifactId>
                <version>${mockito.version}</version>
                <scope>test</scope>
                <exclusions>
                    <exclusion>
                        <groupId>org.hamcrest</groupId>
                        <artifactId>hamcrest-core</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <dependency>
                <groupId>org.hamcrest</groupId>
                <artifactId>hamcrest-core</artifactId>
                <version>${hamcrest.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.hamcrest</groupId>
                <artifactId>hamcrest-library</artifactId>
                <version>${hamcrest.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-text</artifactId>
                <version>${commons-text.version}</version>
            </dependency>
            <dependency>
                <groupId>org.jvnet.jaxb2_commons</groupId>
                <artifactId>jaxb2-basics</artifactId>
                <version>${jaxb2-basics.version}</version>
            </dependency>
            <dependency>
                <groupId>com.itextpdf</groupId>
                <artifactId>itext7-core</artifactId>
                <version>${itext-itext7-core.version}</version>
                <type>pom</type>
            </dependency>
            <dependency>
                <groupId>com.itextpdf</groupId>
                <artifactId>html2pdf</artifactId>
                <version>${itext-html2pdf.version}</version>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <build>
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-enforcer-plugin</artifactId>
                    <version>${maven-enforcer-plugin.version}</version>
                    <executions>
                        <execution>
                            <id>enforce-versions</id>
                            <goals>
                                <goal>enforce</goal>
                            </goals>
                            <configuration>
                                <failFast>true</failFast>
                                <rules>
                                    <requireMavenVersion>
                                        <version>${project.maven.version}</version>
                                    </requireMavenVersion>
                                    <requirePluginVersions />
                                    <requireJavaVersion>
                                        <version>${project.java.version}</version>
                                    </requireJavaVersion>
                                    <DependencyConvergence>
                                        <uniqueVersions>true</uniqueVersions>
                                    </DependencyConvergence>
                                    <banCircularDependencies />
                                    <bannedDependencies>
                                        <searchTransitive>true</searchTransitive>
                                        <excludes>
                                            <!-- Exclude Log4j and commmons-logging because LEOS favours SLF4J and Logback. -->
                                            <exclude>log4j:*</exclude>
                                            <exclude>commons-logging:*</exclude>
                                        </excludes>
                                    </bannedDependencies>
                                    <requireReleaseDeps>
                                        <searchTransitive>true</searchTransitive>
                                        <failWhenParentIsSnapshot>false</failWhenParentIsSnapshot>
                                        <excludes>
                                            <exclude>${project.groupId}:*</exclude>
                                        </excludes>
                                    </requireReleaseDeps>
                                    <requireProperty>
                                        <property>leos.build.env</property>
                                        <message>LEOS env build profile must be specified.</message>
                                    </requireProperty>
                                    <requireProperty>
                                        <property>leos.build.instance</property>
                                        <message>LEOS instance build profile must be specified.</message>
                                        <regex>(os)|(ec)|(cn)</regex>
                                        <regexMessage>Instance can have only values os, ec or cn</regexMessage>
                                    </requireProperty>
                                </rules>
                            </configuration>
                        </execution>
                    </executions>
                    <dependencies>
                        <dependency>
                            <groupId>org.codehaus.mojo</groupId>
                            <artifactId>extra-enforcer-rules</artifactId>
                            <version>${extra-enforcer-rules.version}</version>
                        </dependency>
                    </dependencies>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>${maven-compiler-plugin.version}</version>
                    <configuration>
                        <source>${project.java.version}</source>
                        <target>${project.java.version}</target>
                        <debug>${project.java.debug}</debug>
                        <optimize>${project.java.optimize}</optimize>
                        <showWarnings>${project.java.showWarnings}</showWarnings>
                        <showDeprecation>${project.java.showDeprecation}</showDeprecation>
                        <compilerArgs>
                            <!-- Enable recommended compiler warnings -->
                            <arg>-Xlint</arg>
                        </compilerArgs>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-clean-plugin</artifactId>
                    <version>${maven-clean-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-source-plugin</artifactId>
                    <version>${maven-source-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-dependency-plugin</artifactId>
                    <version>${maven-dependency-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-install-plugin</artifactId>
                    <version>${maven-install-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-deploy-plugin</artifactId>
                    <version>${maven-deploy-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-site-plugin</artifactId>
                    <version>${maven-site-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-resources-plugin</artifactId>
                    <version>${maven-resources-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>com.coderplus.maven.plugins</groupId>
                    <artifactId>copy-rename-maven-plugin</artifactId>
                    <version>${copy-rename-maven-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-surefire-plugin</artifactId>
                    <version>${maven-surefire-plugin.version}</version>
                    <configuration>
                        <includes>
                            <include>**/Test*.java</include>
                            <include>**/*Test.java</include>
                            <include>**/*Tests.java</include>
                            <include>**/*TestCase.java</include>
                            <include>**/*Spec.java</include>
                            <include>**/*Specs.java</include>
                        </includes>
                    </configuration>
                    <dependencies>
                        <dependency>
                            <groupId>org.junit.platform</groupId>
                            <artifactId>junit-platform-surefire-provider</artifactId>
                            <version>${junit-platform.version}</version>
                        </dependency>
                        <dependency>
                            <groupId>org.junit.jupiter</groupId>
                            <artifactId>junit-jupiter-engine</artifactId>
                            <version>${junit-jupiter.version}</version>
                        </dependency>
                        <dependency>
                            <groupId>org.junit.vintage</groupId>
                            <artifactId>junit-vintage-engine</artifactId>
                            <version>${junit-vintage.version}</version>
                        </dependency>
                    </dependencies>
                </plugin>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>cobertura-maven-plugin</artifactId>
                    <version>${cobertura-maven-plugin.version}</version>
                    <configuration>
                        <aggregate>true</aggregate>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-jar-plugin</artifactId>
                    <version>${maven-jar-plugin.version}</version>
                    <configuration>
                        <archive>
                            <!-- Do not include pom.xml and pom.properties in the War archive. -->
                            <addMavenDescriptor>false</addMavenDescriptor>
                            <manifest>
                                <!-- Include default specification entries in the generated MANIFEST.MF file. -->
                                <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                                <!-- Include default implementation entries in the generated MANIFEST.MF file. -->
                                <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
                            </manifest>
                            <manifestEntries>
                                <!-- Include custom entries -->
                                <Built-On>${leos.build.date}</Built-On>
                                <Implementation-Date>${leos.source.committedDate}</Implementation-Date>
                                <Implementation-Status>${leos.source.status}</Implementation-Status>
                                <Implementation-Revision>${leos.source.committedRevision}</Implementation-Revision>
                            </manifestEntries>
                        </archive>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-war-plugin</artifactId>
                    <version>${maven-war-plugin.version}</version>
                    <configuration>
                        <archive>
                            <!-- Do not include pom.xml and pom.properties in the War archive. -->
                            <addMavenDescriptor>false</addMavenDescriptor>
                            <manifest>
                                <!-- Include default specification entries in the generated MANIFEST.MF file. -->
                                <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                                <!-- Include default implementation entries in the generated MANIFEST.MF file. -->
                                <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
                            </manifest>
                            <manifestEntries>
                                <!-- Include custom entries -->
                                <Built-On>${leos.build.date}</Built-On>
                                <Implementation-Date>${leos.source.committedDate}</Implementation-Date>
                                <Implementation-Status>${leos.source.status}</Implementation-Status>
                                <Implementation-Revision>${leos.source.committedRevision}</Implementation-Revision>
                            </manifestEntries>
                        </archive>
                        <packagingExcludes>
                            <!-- Exclude commmons-logging and Log4j because LEOS favours SLF4J and Logback. -->
                            WEB-INF/lib/commons-logging-*.jar,
                            %regex[WEB-INF/lib/log4j-(?!over-slf4j).*.jar]
                        </packagingExcludes>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-javadoc-plugin</artifactId>
                    <version>${maven-javadoc-plugin.version}</version>
                    <configuration>
                        <show>private</show>
                        <nohelp>true</nohelp>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-release-plugin</artifactId>
                    <version>${maven-release-plugin.version}</version>
                    <configuration>
                        <tagNameFormat>@{project.version}</tagNameFormat>
                        <preparationGoals>clean verify</preparationGoals>
                        <arguments>-Denv=${leos.build.env} -Dinstance=${leos.build.instance}</arguments>
                        <checkModificationExcludes>
                            <checkModificationExclude>release-settings.xml</checkModificationExclude>
                            <checkModificationExclude>pom.xml</checkModificationExclude>
                        </checkModificationExcludes>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.eclipse.jetty</groupId>
                    <artifactId>jetty-maven-plugin</artifactId>
                    <version>${jetty-maven-plugin.version}</version>
                    <dependencies>
                        <dependency>
                            <groupId>com.samaxes.filter</groupId>
                            <artifactId>cachefilter</artifactId>
                            <version>${cachefilter.version}</version>
                        </dependency>
                    </dependencies>
                </plugin>
                <plugin>
                    <groupId>org.apache.tomcat.maven</groupId>
                    <artifactId>tomcat7-maven-plugin</artifactId>
                    <version>${tomcat7-maven-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>com.github.searls</groupId>
                    <artifactId>jasmine-maven-plugin</artifactId>
                    <version>${jasmine-maven-plugin.version}</version>
                    <extensions>true</extensions>
                    <executions>
                        <execution>
                            <id>jasmine-test</id>
                            <phase>test</phase>
                            <goals>
                                <goal>test</goal>
                            </goals>
                        </execution>
                    </executions>
                    <configuration>
                        <webDriverClassName>org.openqa.selenium.phantomjs.PhantomJSDriver</webDriverClassName>
                        <phantomjs>
                            <version>${phantomjs.version}</version>
                            <checkSystemPath>false</checkSystemPath>
                            <enforceVersion>true</enforceVersion>
                        </phantomjs>
                        <haltOnFailure>true</haltOnFailure>
                    </configuration>
                    <dependencies>
                        <dependency>
                            <groupId>org.seleniumhq.selenium</groupId>
                            <artifactId>selenium-java</artifactId>
                            <version>${selenium-webdriver.version}</version>
                        </dependency>
                        <dependency>
                            <groupId>com.codeborne</groupId>
                            <artifactId>phantomjsdriver</artifactId>
                            <version>${phantomjs-webdriver.version}</version>
                        </dependency>
                    </dependencies>
                </plugin>
                <plugin>
                    <groupId>com.cj.jshintmojo</groupId>
                    <artifactId>jshint-maven-plugin</artifactId>
                    <version>${jshint-maven-plugin.version}</version>
                    <executions>
                        <execution>
                            <id>jshint-lint</id>
                            <phase>none</phase>
                            <goals>
                                <goal>lint</goal>
                            </goals>
                        </execution>
                    </executions>
                    <configuration>
                        <reporter>jslint</reporter>
                        <failOnError>true</failOnError>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>build-helper-maven-plugin</artifactId>
                    <version>${build-helper-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>buildnumber-maven-plugin</artifactId>
                    <version>${build-number-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>com.vaadin</groupId>
                    <artifactId>vaadin-maven-plugin</artifactId>
                    <version>${vaadin-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>properties-maven-plugin</artifactId>
                    <version>${properties-maven-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>com.github.goldin</groupId>
                    <artifactId>copy-maven-plugin</artifactId>
                    <version>${copy-maven-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>sql-maven-plugin</artifactId>
                    <version>${sql-maven-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>com.mycila</groupId>
                    <artifactId>license-maven-plugin</artifactId>
                    <version>${mycila-license-maven-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>pl.project13.maven</groupId>
                    <artifactId>git-commit-id-plugin</artifactId>
                    <version>${git-commit-id-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>sonar-maven-plugin</artifactId>
                    <version>${sonar-maven-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>org.jvnet.jaxb2.maven2</groupId>
                    <artifactId>maven-jaxb2-plugin</artifactId>
                    <version>${jvnet-jaxb2-plugin.version}</version>
                </plugin>
            </plugins>
        </pluginManagement>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-enforcer-plugin</artifactId>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>buildnumber-maven-plugin</artifactId>
                <executions>
                    <execution>
                        <id>build-timestamp</id>
                        <phase>validate</phase>
                        <goals>
                            <goal>create-timestamp</goal>
                        </goals>
                        <configuration>
                            <timestampPropertyName>buildnumber.timestamp</timestampPropertyName>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>pl.project13.maven</groupId>
                <artifactId>git-commit-id-plugin</artifactId>
                <executions>
                    <execution>
                        <id>get-the-git-infos</id>
                        <goals>
                            <goal>revision</goal>
                        </goals>
                        <phase>validate</phase>
                    </execution>
                </executions>
                <configuration>
                    <prefix>git</prefix>
                    <dateFormat>${leos.build.date.format}</dateFormat>
                    <dateFormatTimeZone>${user.timezone}</dateFormatTimeZone>
                    <verbose>false</verbose>
                    <generateGitPropertiesFile>false</generateGitPropertiesFile>
                    <format>properties</format>
                    <skipPoms>false</skipPoms>
                    <injectAllReactorProjects>true</injectAllReactorProjects>
                    <failOnNoGitDirectory>false</failOnNoGitDirectory>
                    <failOnUnableToExtractRepoInfo>false</failOnUnableToExtractRepoInfo>
                    <skip>false</skip>
                    <runOnlyOnce>true</runOnlyOnce>
                    <useNativeGit>false</useNativeGit>
                    <abbrevLength>7</abbrevLength>
                    <commitIdGenerationMode>flat</commitIdGenerationMode>
                    <gitDescribe>
                        <skip>false</skip>
                        <always>false</always>
                        <abbrev>7</abbrev>
                        <dirty>-dirty</dirty>
                        <match>*.*.*</match>
                        <tags>true</tags>
                        <forceLongFormat>false</forceLongFormat>
                    </gitDescribe>
                </configuration>
            </plugin>
            <plugin>
                <groupId>com.mycila</groupId>
                <artifactId>license-maven-plugin</artifactId>
                <configuration>
                    <header>NOTICE.txt</header>
                    <headerDefinitions>
                        <headerDefinition>tools/license/headers/scss_definition.xml</headerDefinition>
                    </headerDefinitions>
                    <mapping>
                        <java>SLASHSTAR_STYLE</java>
                        <kt>SLASHSTAR_STYLE</kt>
                        <scss>DOUBLESLASH_STYLE</scss>
                    </mapping>
                    <excludes>
                        <exclude>**/src/main/filters/**</exclude>
                        <exclude>**/src/main/resources/**</exclude>
                        <exclude>**/src/main/assets/css/**</exclude>
                        <exclude>**/src/test/resources/**</exclude>
                        <exclude>**/src/test/data/**</exclude>
                        <exclude>**/src/etc/**</exclude>
                        <exclude>**/src/test/etc/**</exclude>
                        <exclude>**/themes/**/layouts/**</exclude>
                        <exclude>**/themes/**/fonts/**</exclude>
                        <exclude>**/main/lib/**</exclude>
                        <exclude>**/layouts/*.html</exclude>
                        <exclude>**/js/**/*.html</exclude>
                        <exclude>**/widgetsets/**</exclude>
                        <exclude>**/freemarker/*.ftl</exclude>
                        <exclude>tools/cmis/**</exclude>
                        <exclude>docs/**</exclude>
                        <exclude>*.txt</exclude>
                    </excludes>
                </configuration>
                <executions>
                    <execution>
                        <phase>none</phase>
                        <goals>
                            <goal>check</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>

    <profiles>
        <!-- SET build env -->
        <profile>
            <id>env-default</id>
            <activation>
                <property>
                    <name>!env</name>
                </property>
            </activation>
            <properties>
                <leos.build.env>local</leos.build.env>
                <project.java.debug>true</project.java.debug>
                <project.java.optimize>false</project.java.optimize>
                <project.vaadin.draftCompile>true</project.vaadin.draftCompile>
                <js.skipTests>false</js.skipTests>
                <skipTests>false</skipTests>
            </properties>
        </profile>

        <!-- OS Instance -->
        <profile>
            <id>instance-default</id>
            <activation>
                <property>
                    <name>!instance</name>
                </property>
            </activation>
            <properties>
                <leos.build.instance>os</leos.build.instance>
                <leos.web.context.path>leos-pilot</leos.web.context.path>
				<leos.web.auth.method>BASIC</leos.web.auth.method>
            </properties>
        </profile>
    </profiles>
</project>
